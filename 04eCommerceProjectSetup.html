<!doctype html>
<html lang="en">
  	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
		<style>
			code{
				background-color: rgba(0,0,0,.075);
				font-weight: bold;
			}
			.subtitle{
				font-size: 1.3rem;
				font-weight: bold;
				margin: 0;
				padding: 5px;
				margin-top: 5px;
				background-color: rgba(0,0,0,.075);
				text-align: center;
			}
			h3{
				font-size: 2rem;
				font-weight: bold;
				margin: 0;
				padding: 5px;
				margin-top: 10px;
			}
			.paragraph{
				margin: 0.5rem 0 0.5rem;
			}
			.tab{
				margin: 0 1rem;
			}
			html{
				scroll-behavior: smooth;
			}
			</style>

		<title>04 eCommerce Project Setup</title>
  	</head>
  	<body>
      
    <div class="container">
		<h1 class="display-3 text-center">04 eCommerce Project Setup<hr></h1>
		<header>
			<p class="paragraph">
				Overall description.
			</p>
		</header>

		<h2 id="00" class="subtitle">Index</h2>
		<table class="table table-striped">
			<thead>
				<tr>
					<th scope="col">#</th>
					<th scope="col">Topic</th>
					<th scope="col">Description</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th scope="row">1</th>
					<td>
						<a href="#01">topicName</a>
					</td>
					<td>
						<code>Code or description</code>
					</td>
				</tr>
			</tbody>
		</table>

		<ul class="list-group">
			<li class="list-group-item">
				<a id="01" href="#00">Index</a>
				<h2 class="subtitle">eCommerce Homepage + SASS Setup</h2>
				<p class="paragraph">
					We start with installin CRA <code>npx create-react-app crwn-clothing</code> We will clean up CRA by removing files. We go to index.js and remove all of our serviceWorker code. In App.js we remove all the code from our component and the logo import. In App.css we remove all the code. I deleted the logo svg and service worker.js file. <strong>Note:</strong> I re-started the process by starting CRA using TS, just to learn this with TS from the start, as I intend to work using TS in the future. 
				</p>
				<p class="paragraph">
					We start by creating a <strong>homepage.component.tsx</strong> in our src/ dir. Here we will do a template of what we want just to see where we are going. We create a bunch of divs and nested divs with their respective class names, and then do our 5 components, hats, jackets, sneakers, womens, mens with a span that says SHOP NOW. We <code>yarn start</code> and we see that our app is up. 
				</p>
				<p class="paragraph">
					<strong>SASS</strong>
					<br>
					sass in an evolved version of CSS. We add it with <code>yarn add node-sass</code> CRA comes with the setting for babel and webpack to convert our sas files into CSS, which is great. Yihua got an error, and he followed the instructions, deleted yarn.lock, node_mouldes and then ran <code>yarn</code> which is the equivalent of <code>yarn install</code>. We create a file <strong>homepage.styles.scss</strong> and we paste the styling. The first parts of our file is almost like css, however we have an element <em>menu-item</em> that has nested props. 
				</p>
				<p class="paragraph">
					<strong>SASS Syntax</strong>
					<br>
					We see that inside menu-item we have <code>&:first-child</code>, it is telling sass that we want to target the first child of menu-item targeted using a class. We could do this with css with <code>menu-item:first-child { ... }</code> however, having it nested makes it much easier to read and reason about. Then nested we also have a <code>.content { ... }</code> which means, any element with the class content, inside menu-item, gets this style. We would do that in css with <code>.menu-item .content { ... }</code>. We have the same thing inside .content with <code>.title { ... }</code> and <code>.subtitle { ... }</code> This allows us to write CSS selectors that are related to each other in a very intuitive and interconnected way. We import it to our file <code>import './homepage.styles.scss</code>, we can see that the style gets applied to our app. 
				</p>
				<a id="02" href="#00">Index</a>
				<h2 class="subtitle">Homepage and Directories Components</h2>
				<p class="paragraph">
					So we want to start breaking our code into components. The folder structure here is key. In src/ we create two dirs <code>components/</code> and <code>pages/</code> Inside pages/ we create <code>homepage/</code> where we move our homepage component and style files. Then we start breaking down what we have in this file into smaller components. We create a directory/ dir in components/ and our component files <code>directory.component.tsx</code> and styles accordingly. Then we do the same for <strong>menu-item</strong>. 
				</p>
				<p class="paragraph">
					<strong>menu-item</strong>
					<br>
					Menu item is a Fn component that displays the content of our items. We move the code of the div that had className menu-item and all its children into the component. But we want to have a dynamic title, which we do with props. We dont want to be using <code>props.title</code> all the time, so we use destructuring <code>const MenuItem = ({ title }) =>( ... )</code> and inside our h1 we use <code>{ title }</code>. Since we are in the TS version of react, it will err because title is set to any, and then if we do title: string it will err as well because it will say <em>cannot find name title</em>. What we need to do is create an interface for the props <code>interface MenuItemProps { title: string }</code> which is all we know at the moment the props will have. Then we do <code>({ title }: MenuItemProps)</code> which will tell TS that we will pass an object of that structure, and that it can be destructured into the property title. Then we <code>export default MenuItem</code>. <strong>Note:</strong> Yihua had a very confusing workflow of doing this before the directory, which is coutnerintuitive because setting the dreictory component first, would make it easier to abstract the creation and content of our menu-item component.
					<br>
					<strong>Note Refactor:</strong> I looked into the TS course with react and set the type of menu item to <code>const MenuItem: React.FC&lt;MenuItemProps&gt;</code> which worked perfectly instead of having the generic type set to it JSX.Element, and I could remove the typecasting from the props directly. 
				</p>
				<p class="paragraph">
					<strong>directory</strong>
					<br>
					We want to move the state down from App itno this component, therefore we make it a <em>class component</em> <code>class Directory extends React.Component { ... }</code> Inside we add <code>constructor(){ super(); this.setState = { ... } }</code> This will err TS, as it wants something to be passed in the super() so we just set it to <code>super({})</code> and pass an empty obj in the meantime. I copied and pasted the state from the github repo. Then we did the render() method to return what we had in homepage under className directory-menu, but inside that div we use our logic. <code>{ this.state.sections.map( ... ) }</code> which maps the array sections in our state. We use destructuring to use the values from our state <code>({title, imageUrl, id}) =&gt; ( ... )</code> and inside we pass our MenuItem component <code>MenuItem key={id} title={title}</code> which leaves imageUrl unused. This had a few errs, mainly because the map method didn't know the structure of the state, so I created an interface <code>DirectoryState { sections: { title: string, imageUrl: string, id: number, size?: string}[] }</code> which is the structure of the state we imported. Now, to put it, I tried directly on the state which didn't work. So I dug and found that you set it as a generic after <code>extends React.Component</code>, which takes the props as the first type, and then the state: <code>&lt;{}, DirectoryState&gt;</code> which removed all errs from our code and made things work. Now I saved and reloaded the app after the correct imports, and we have the page looking exactly like we had it before. 
				</p>
				<p class="paragraph">
					<strong>Adding imageUrl</strong>
					<br>
					I sent the prop in directory as imageUrl={imageUrl} but TS erred saying that imageUrl did not exist on the props of any child element. So I added it to the porps in menu-item and added it to the destructuring and everything was working fine. TS power in react is great to see if we had a misspelling err and for cross component communication. We go to our component and we add a new attribute to our div of className menu-item <code>style={{ ... }}</code> which is similar to style in HTML, but it uses cammelCase instead of - . Inside we set <code>backgroundImage: `url($[imageUrl})`</code> which is the CSS anotation for doing this, and now we have the images in our page. We go to our styles scss file and add two things <code>background-position: center;</code> and <code>background-size: cover;</code> which will center the images and and set them to cover the whole component. 
				</p>
				<p class="paragraph">
					<strong>Props for dynamic styling</strong>
					<br>
					We saw how we passed in the imageUrl to our style attribute to get the image there with our css ish syntax. However, we want to have the bottom two images be larger than the top items. We will do this with scss targetting using a class. We start by setting a prop in our state <code>size: 'large'</code> which is on some of the state items of the array. In the map we destructure that state prop and pass it as a prop to our menu-item <code>size={size}</code> Now we must go to menu-item and add it to the interface for the props, and we can now use it. This will stop errs from both our components. Here we will use the size prop in our className <code>className={`${size} menu-item}</code> which will add the size prop that is a string to the classes of the component if there is one, or leave it blank if there is none. Now we go to our scss file and target that class <code>&.large { height: 380px }</code> which means that if our menu-item element <em>ALSO</em> has the large class, set the height to 380px. We save and reload and the page is how we want it to be.
				</p>
				<a id="02" href="#00">Index</a>
				<h2 class="subtitle">Styling Menu Items</h2>
				<p class="paragraph">
					We go into our menu-item scss file and add to .content a white background and opacity of 0.7. Then we import a font from google fonts Open Sans Condensed and set it in our public/index.html file as a link tag under the link for manifest. We then go to the app.css file and add <code>body { font-family: 'Open Sans Condesed' }</code> which will make it the default font for the page. Then we go the menu item component and use <code>title.toUppercase()</code> to set all titles to uppercase.
				</p>
				<p class="paragraph">
					<strong>Background Image Div</strong>
					<br>
					We create a div inside our menu-item div and set className to 'background-image' and we move style to this div instead of the menu-item div. We do this because we don't want to have our image be bigger when it scales, we just want to see the effect get bigger within our div. We don't wrap it inside everything because if we increase the size we don't want our content to increase in size with it. Now in our scss file, inside menu-item we add <code>.background-image { ... }</code> which will target this div. We give it width and height of 100%, which makes the image always have the size of our container, no matter the size of our container item. We move the background zie and position we had in our main div into the targeted class for our bg img div. If we save and refresh, we see that the image is set as a sibling of our content and tehrefore pushes it to the side. However, we don't want this, we want our content to always be in the center of our menu-item component. We fix this by going to <code>.content { ... }</code> and adding <code>position: absolute</code>. This sets the position of our conten to be whatever the position calculation will be, regardless of the siblings. Now, our content will be smack in the middle of our menu-item. 
				</p>
				<p class="paragraph">
					<strong>Hover Effect</strong>
					<br>
					We copy and paste the code for the hover effect <code>&:hover { ... }</code> which is the same as saying <code>menu-item:hover</code> in CSS, which applies a style when we hover over an item. Here we set <code>cursor: pointer;</code> which changes our cursor from arrow to finger. Then it has <code>&.background-image { ... }</code> <strong>Note:</strong> We need the space between the & for some reason, but we didn't need it on .large before but it won't work without it. And inside we do the effect <code>transform: scale(1.1); transition: transform: 6s cubic-bezier(0.25, 0.45, 0.45, 0.95)</code> Whcih makes the image scale to 1.1 its original size and cubic-bezier will be the way the image will transition, which is a complicated math calculation that makes the transition smoother. And at last we have <code>& .content { opacity: 0.9 }</code> which will bring emphasis to our content when we hover over the menu-item. 
				</p>
				<p class="paragraph">
					<strong>Overflow</strong>
					<br>
					Now we save and refresh and we have the effect, however, our background image is growing and sticking outside of our main div, which we don't want. We go to our scss file and under .menu-item we add <code>overflow: hidden;</code> which will hide this overflow. 
				</p>
			</li>
		</ul>
	</div>

	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
	</body>
</html>